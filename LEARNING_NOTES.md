# Gemini CLI 学习笔记

## 📅 2026-02-02 第一课：入门与核心概念

### 1. 核心理念
- **结对编程**：Gemini CLI 不仅仅是聊天机器人，它能直接读取本地文件、执行 Shell 命令。
- **上下文感知**：它通过读取项目文件来理解现状，而不是依赖对话历史。

### 2. 基本工作流
- **创建/写文件**：直接下令（如"创建一个 Java Hello World"），AI 会自动调用 `write_file`。
- **运行命令**：AI 可以编译、运行程序（`run_shell_command`），如 `javac`、`git` 等。
- **重构**：可以指挥 AI 移动目录、修改代码逻辑并清理旧文件。

### 3. Git 集成
- **初始化**：`git init` 和生成 `.gitignore`。
- **智能提交**：AI 可以分析变更并自动生成 Commit Message（`git commit -m "..."`）。
- **远程协作**：支持 `git push` 到 GitHub，甚至处理关联远程仓库。

### 4. 上下文管理（进阶）
这是保证 AI 长期协作效率的关键：

| 文件名 | 作用 | 类似于 |
| :--- | :--- | :--- |
| **`PROJECT_STATUS.md`** | 记录项目进度、待办事项 | **会议记录/工单** |
| **`GEMINI.md`** | 记录技术规范、编码风格 | **员工手册/开发规范** |
| **`save_memory`** (工具) | 记住用户个人的全局偏好 | **用户配置文件** |

### 5. 常用指令话术
- "分析一下当前目录" -> 快速上手新接手的项目。
- "读取项目状态" -> 恢复上次的工作进度。
- "Git push 报错了帮我修" -> 解决版本控制问题。

### 6. 高级技巧：文档自动化联动
- **痛点**：多份文档（如进度表、路线图）手动更新繁琐且易忘。
- **解决方案**：在 `GEMINI.md` 中定义"维护协议"。
- **原理**：通过 prompt 明确告诉 AI，"每当完成编码任务，必须主动检查并更新 PROJECT_STATUS.md"。
- **效果**：实现"改代码 -> 自动修文档"的链式反应，保持单一数据源一致性。

---

## 📅 2026-02-28 第二课：子代理（Task）熟练运用

### 1. 什么是子代理？
- 子代理是通过 `task` 工具启动的**临时工作代理**，用于并行处理多任务
- 不同于主对话中的代理，子代理有独立的任务上下文
- 可以同时启动多个子代理，实现并行处理

### 2. 子代理类型
| 类型 | 说明 | 权限 |
|------|------|------|
| `explore` | 代码库探索代理，快速查找文件和搜索代码 | 只读 |
| `general` | 通用代理，执行多步骤复杂任务 | 读写（除todo外） |

### 3. task 工具参数
- `command`: 触发任务的命令
- `description`: 任务描述（3-5词）
- `prompt`: 详细的任务指令
- `subagent_type`: 子代理类型（explore/general）
- `task_id`: （可选）继续同一个会话

### 4. 学习计划
**目标**：熟练运用子代理进行并行任务处理

| 次数 | 内容 |
|------|------|
| 第1次 | explore 基础入门：并行分析 Owner/Pet 模块 |
| 第2次 | 结果整合与交叉验证 |
| 第3次 | general 代理：研究技术问题并生成文档 |
| 第4次 | 高级技巧：task_id 续话 + 复杂 prompt 设计 |
| 第5次 | 综合实战：多代理协作生成架构分析报告 |